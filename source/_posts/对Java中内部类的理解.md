---
title: 对Java中内部类的理解
date: 2016-03-18 20:45:10
tags: Java
---

### 为什么Java需要内部类？

我们知道Java作为一门面向对象的编程语言有三大特征：封装、继承和多态。封装有以下好处：

1. 良好的封装能够减少耦合。
2. 类内部的结构可以自由修改。
3. 可以对成员进行更精确的控制。
4. 隐藏信息，实现细节。

在开发过程中经常会出现这种情况，某一个类A只会在类B用到，这个时候两个类即便放在同一个包中，封装特性也没有很好，这个时候更好的处理办法就是把类A放在类B中。这里就体现了我们对内部类的需求。

内部类有很多好处；

1. 它将只用在其他一个地方的类在逻辑上实现了更好的分组。
2. 提高了封装程度。
3. 提供更好的可读性和可维护性。

### 为什么内部类建议尽量使用static修饰（静态内部类）？

在创建一个内部类的实例时，这个实例会持它外部类的引用，这使得在内部类里可以直接使用外部类的成员变量和方法。但是很多时候我们并不需要它，而持有的引用会导致外部类不能被GC回收，容易产生内存泄漏。如果加上static将他变成静态内部类时，在编译的时候内部类会被编译成一个独立常规的类，静态内部类的实例不会持有外部类的引用，这样就相当于就是一个普通的类，只是源码写在另一个类里而已。
